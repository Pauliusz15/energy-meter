(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{215:function(e,t,a){e.exports=a(387)},220:function(e,t,a){},222:function(e,t,a){},387:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(50),o=a.n(i),l=(a(220),a(19)),c=a(20),s=a(25),u=a(21),p=a(24),m=(a(222),a(17)),h=a(23),d=a(16),f=a(398),b=function(e){return{type:"ADD_RESULT_ROW",payload:e}},v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={startTime:0,time:0,startDisabled:!1,lapDisabled:!0,lapNum:0,previousTime:null},a.onStart=a.onStart.bind(Object(m.a)(Object(m.a)(a))),a.onReset=a.onReset.bind(Object(m.a)(Object(m.a)(a))),a.onImp=a.onImp.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"onStart",value:function(){var e=this;this.setState({startTime:new Date,startDisabled:!0,lapDisabled:!1}),this.timerID=setInterval(function(){return e.tick()},100),window.navigator.vibrate(50)}},{key:"onReset",value:function(){this.setState({time:0,startDisabled:!1,lapDisabled:!0,previousTime:null,lapNum:0}),this.props.addResultRow([]),clearInterval(this.timerID)}},{key:"onImp",value:function(){this.setState({lapNum:this.state.lapNum+1});var e=new Date,t=e-(this.state.previousTime?this.state.previousTime:this.state.startTime),a=g(this.props.coeff,this.props.imp,this.props.impKwh,t),n={nr:this.state.lapNum,period:t,kw:a,amp:E(a,this.props.voltage,this.props.cosf).toFixed(1)},r=this.props.resultRows.slice();r.unshift(n),this.props.addResultRow(r),this.setState({previousTime:e}),window.navigator.vibrate(50)}},{key:"tick",value:function(){this.setState({time:new Date-this.state.startTime})}},{key:"render",value:function(){return r.a.createElement("div",{className:"align-center"},r.a.createElement(w,{time:this.state.time}),r.a.createElement(y,{onStart:this.onStart,onImp:this.onImp,onReset:this.onReset,startDisabled:this.state.startDisabled}))}}]),t}(n.Component),g=function(e,t,a,n){return(e*t*3600/(a*n/1e3)).toFixed(3)},E=function(e,t,a){return e/t/a*1e3},w=function(e){var t=parseInt(e.time%1e3/100),a=parseInt(e.time/1e3)%60,n=parseInt(e.time/6e4);return r.a.createElement("div",{className:"time-text-container"},r.a.createElement("p",null,n," : ",("0"+a).slice(-2)," : ",t))},y=function(e){return e.startDisabled?r.a.createElement("div",{className:"btn-container"},r.a.createElement(f.a.Group,{className:"btn-group",size:"massive",fluid:!0},r.a.createElement(f.a,{className:"stopwatch-button",onClick:e.onReset,content:"Reset"}),r.a.createElement(f.a,{className:"stopwatch-button",onClick:e.onImp,content:"Imp"}))):r.a.createElement("div",{className:"btn-container"},r.a.createElement(f.a.Group,{size:"massive",fluid:!0},r.a.createElement(f.a,{className:"stopwatch-button",onClick:e.onReset,content:"Reset"}),r.a.createElement(f.a,{className:"stopwatch-button",onClick:e.onStart,content:"Start"})))},I=Object(h.b)(function(e){return{resultRows:e.resultRows,coeff:e.coeff,imp:e.imp,impKwh:e.impKwh,voltage:e.voltage,cosf:e.cosf}},function(e){return Object(d.a)({addResultRow:b},e)})(v),O=a(396),C=function(e){return{type:"SWITCH_IS_KW",payload:e}},k=function(e){return{type:"SWITCH_IS_SIDEBAR",payload:e}},j=function(e){return{type:"SWITCH_IS_PARAM_MODAL",payload:e}},S=function(e){return{type:"SWITCH_IS_INFO_MODAL",payload:e}},D=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"createRows",value:function(){var e=this;return this.props.resultRows.map(function(t){return t.key=r.a.createElement(R,{fontWeight:e.props.resultRows.length-1===t.nr?"bold":"",key:t.nr,nr:t.nr+1,period:t.period,kw:t.kw,amp:t.amp,isKw:!!e.props.isKw})})}},{key:"render",value:function(){var e=this,t=this.createRows();return r.a.createElement("div",{className:"lap-table"},r.a.createElement(O.a,{basic:!0,unstackable:!0,fixed:!0,size:"small"},r.a.createElement(O.a.Header,null,r.a.createElement(O.a.Row,{textAlign:"center",style:{fontSize:18}},r.a.createElement(O.a.HeaderCell,{width:3},"\u2116"),r.a.createElement(O.a.HeaderCell,null,"Time"),r.a.createElement(O.a.HeaderCell,null,r.a.createElement(f.a,{color:"black",className:"table-button",basic:!0,onClick:function(){return e.props.switchIsKw(!e.props.isKw)}},this.props.isKw?"kW":"A")))),r.a.createElement(O.a.Body,null,t)))}}]),t}(n.Component),R=function(e){var t=parseInt(e.period/6e4),a=parseInt(e.period/1e3)%60,n=parseInt(e.period%1e3/100),i=t+":"+("0"+a).slice(-2)+":"+n;return r.a.createElement(O.a.Row,{textAlign:"center",style:{fontWeight:e.fontWeight,fontSize:18}},r.a.createElement(O.a.Cell,{width:3},e.nr),r.a.createElement(O.a.Cell,null,i),r.a.createElement(O.a.Cell,null,e.isKw?e.kw:e.amp))},N=Object(h.b)(function(e){return{resultRows:e.resultRows,isKw:e.isKw}},function(e){return Object(d.a)({switchIsKw:C},e)})(D),_=a(400),A=a(188),P=a(394),M=function(e,t){switch(e){case"coeffInput":return{type:"CHANGE_COEFF",payload:t};case"impInput":return{type:"CHANGE_IMP",payload:t};case"impKwhInput":return{type:"CHANGE_IMP_KWH",payload:t};case"voltageInput":return{type:"CHANGE_VOLTAGE",payload:t};case"cosfInput":return{type:"CHANGE_COSF",payload:t}}},T=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).changeVal=a.changeVal.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"changeVal",value:function(e){var t=e.target.id,a=e.target.value;this.props.changeParameter(t,a)}},{key:"render",value:function(){return r.a.createElement("div",{className:"parameters"},r.a.createElement(_.a,{className:"align-center",columns:"equal"},r.a.createElement(_.a.Column,null,r.a.createElement(W,{id:"coeffInput",onChange:this.changeVal,value:this.props.coeff,text:"Coefficient"})),r.a.createElement(_.a.Column,null,r.a.createElement(W,{id:"impInput",onChange:this.changeVal,value:this.props.imp,text:"Impulse"})),r.a.createElement(_.a.Column,null,r.a.createElement(W,{id:"impKwhInput",onChange:this.changeVal,value:this.props.impKwh,text:"Imp/kWh"}))))}}]),t}(n.Component),W=function(e){return r.a.createElement("div",{className:"parameter"},r.a.createElement("div",null,r.a.createElement(A.a,{pointing:"below"},e.text)),r.a.createElement("div",null,r.a.createElement(P.a,{id:e.id,type:"number",fluid:!0,onFocus:H,size:"small",onKeyPress:K,onChange:e.onChange,value:e.value,placeholder:"Number"})))},H=function(e){return e.target.select()},K=function(e){var t;"paste"===e.type?t=e.clipboardData.getData("text/plain"):(t=e.keyCode||e.which,t=String.fromCharCode(t));/[0-9]|\./.test(t)||(e.returnValue=!1,e.preventDefault&&e.preventDefault())},V=Object(h.b)(function(e){return{coeff:e.coeff,imp:e.imp,impKwh:e.impKwh}},function(e){return Object(d.a)({changeParameter:M},e)})(T),x=a(397),G=a(189),L=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(x.a,null,r.a.createElement(x.a.Item,{name:"sidebar",onClick:function(){return e.props.switchIsSidebar(!0)}},r.a.createElement(G.a,{name:"bars"})),r.a.createElement(x.a.Item,{name:"sidebar",position:"right",onClick:function(){return e.props.switchIsInfoModal(!0)}},r.a.createElement(G.a,{name:"info"})))}}]),t}(n.Component),z=Object(h.b)(function(e){return{}},function(e){return Object(d.a)({switchIsSidebar:k,switchIsInfoModal:S},e)})(L),F=a(401),U=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(F.a,{as:x.a,animation:"overlay",onHide:function(){return e.props.switchIsSidebar(!1)},visible:this.props.isSidebar,vertical:!0,icon:"labeled"},r.a.createElement(x.a.Item,{as:"a",onClick:function(){return e.props.switchIsParamModal(!0)}},r.a.createElement(G.a,{name:"setting"}),"Parameters"),r.a.createElement(x.a.Item,{as:"a",href:"https://github.com/Pauliusz15/energy-meter",target:"_blank",style:{position:"absolute",bottom:0}},r.a.createElement("p",null,"GitHub ",r.a.createElement(G.a,{name:"github"}))))}}]),t}(n.Component),B=Object(h.b)(function(e){return{isSidebar:e.isSidebar}},function(e){return Object(d.a)({switchIsSidebar:k,switchIsParamModal:j},e)})(U),J=a(395),Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={voltage:a.props.voltage,cosf:a.props.cosf},a.changeVal=a.changeVal.bind(Object(m.a)(Object(m.a)(a))),a.onCancel=a.onCancel.bind(Object(m.a)(Object(m.a)(a))),a.onDone=a.onDone.bind(Object(m.a)(Object(m.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"changeVal",value:function(e){var t=e.target.id,a=e.target.value;this.props.changeParameter(t,a)}},{key:"onCancel",value:function(){this.props.changeParameter("voltageInput",this.state.voltage),this.props.changeParameter("cosfInput",this.state.cosf),this.props.switchIsParamModal(!1)}},{key:"onDone",value:function(){this.props.switchIsParamModal(!1)}},{key:"render",value:function(){var e=this;return r.a.createElement(J.a,{size:"small",open:this.props.isParamModal,onClose:function(){e.props.switchIsParamModal(!1)},closeOnDimmerClick:!1},r.a.createElement(J.a.Header,null,"Select parameters"),r.a.createElement(J.a.Content,null,r.a.createElement(q,{id:"voltageInput",label:"Voltage (V)",placeholder:"Number",value:this.props.voltage,onChange:this.changeVal}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(q,{id:"cosfInput",label:"Power factor (cos(f))",placeholder:"Number",value:this.props.cosf,onChange:this.changeVal})),r.a.createElement(J.a.Actions,null,r.a.createElement(f.a,{basic:!0,onClick:this.onCancel},"Cancel"),r.a.createElement(f.a,{icon:"checkmark",labelPosition:"right",content:"Done",onClick:this.onDone})))}}]),t}(n.Component),q=function(e){return r.a.createElement(P.a,{id:e.id,size:"small",labelPosition:"left",type:"text",placeholder:e.placeholder},r.a.createElement(A.a,{basic:!0},e.label),r.a.createElement("input",{type:"number",value:e.value,onChange:e.onChange,onKeyPress:Q,onFocus:$}))},$=function(e){return e.target.select()},Q=function(e){var t;"paste"===e.type?t=e.clipboardData.getData("text/plain"):(t=e.keyCode||e.which,t=String.fromCharCode(t));/[0-9]|\./.test(t)||(e.returnValue=!1,e.preventDefault&&e.preventDefault())},X=Object(h.b)(function(e){return{isParamModal:e.isParamModal,voltage:e.voltage,cosf:e.cosf}},function(e){return Object(d.a)({switchIsParamModal:j,changeParameter:M},e)})(Y),Z=a(399),ee=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(J.a,{open:this.props.isInfoModal,onClose:function(){return e.props.switchIsInfoModal(!1)},closeIcon:!0},r.a.createElement(J.a.Header,null,"Usage"),r.a.createElement(J.a.Content,null,r.a.createElement(J.a.Description,null,r.a.createElement(Z.a,null,"EN"),r.a.createElement("p",null,"You can check how your electricity meter is operating by capturing LED flashes or rotation of the disk."),r.a.createElement("p",null,"Enter voltage transformer coefficient, number of estimated impulses (LED or disk) and constant of electricity meter."),r.a.createElement("p",null,"To get final results press START/IMP."),r.a.createElement("p",null,"You can also convert results to kW or amperes."),r.a.createElement(Z.a,null,"LT"),r.a.createElement("p",null,"J\u016bs galite patikrinti el.skaitiklio veikim\u0105 fiksuojant LED mirksnius ar disko apsisukimus."),r.a.createElement("p",null,"\u012eveskite transformatori\u0173 koeficient\u0105, fiksuojam\u0173 impuls\u0173 skai\u010di\u0173 ir skaitiklio konstant\u0105."),r.a.createElement("p",null," Spauskite START/IMP rezultatams gauti."),r.a.createElement("p",null," Rezultat\u0105 galima atvaizduoti kW arba amperais."))))}}]),t}(n.Component),te=Object(h.b)(function(e){return{isInfoModal:e.isInfoModal}},function(e){return Object(d.a)({switchIsInfoModal:S},e)})(ee),ae=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(z,null),r.a.createElement(B,null),r.a.createElement(V,null),r.a.createElement(I,null),r.a.createElement(N,null),r.a.createElement(X,null),r.a.createElement(te,null))}}]),t}(n.Component),ne=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function re(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(384);var ie=Object(d.b)({resultRows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_RESULT_ROW":return t.payload;default:return e}},coeff:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_COEFF":return t.payload;default:return e}},imp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_IMP":return t.payload;default:return e}},impKwh:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_IMP_KWH":return t.payload;default:return e}},isKw:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SWITCH_IS_KW":return t.payload;default:return e}},isSidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SWITCH_IS_SIDEBAR":return t.payload;default:return e}},isParamModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SWITCH_IS_PARAM_MODAL":return t.payload;default:return e}},voltage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:230,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_VOLTAGE":return t.payload;default:return e}},cosf:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.98,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_COSF":return t.payload;default:return e}},isInfoModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SWITCH_IS_INFO_MODAL":return t.payload;default:return e}}}),oe=Object(d.c)(ie);o.a.render(r.a.createElement(h.a,{store:oe},r.a.createElement(ae,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/energy-meter",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/energy-meter","/service-worker.js");ne?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):re(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):re(t,e)})}}()}},[[215,2,1]]]);
//# sourceMappingURL=main.e62e6401.chunk.js.map